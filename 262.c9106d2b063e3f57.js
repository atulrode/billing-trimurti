"use strict";(self.webpackChunktrimurti_hardware_manager=self.webpackChunktrimurti_hardware_manager||[]).push([[262],{7262:(O,u,a)=>{a.r(u),a.d(u,{DashboardModule:()=>F});var d=a(177),c=a(8426),t=a(540);let p=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-dashboard"]],decls:2,vars:0,consts:[[1,"container-fluid","p-0"]],template:function(o,i){1&o&&(t.j41(0,"div",0),t.nrm(1,"router-outlet"),t.k0s())},dependencies:[c.n3],styles:[".card[_ngcontent-%COMP%]{border-radius:.75rem}.text-purple[_ngcontent-%COMP%]{color:#a855f7}"]})}}return n})();var s=a(467),f=a(7772),g=a(6563);let h=(()=>{class n{constructor(e){this.inventoryService=e}getStats(){var e=this;return(0,s.A)(function*(){return[{label:"Total Stock Items",value:(yield e.inventoryService.getAllItems()).length.toLocaleString(),icon:"fa-boxes"},{label:"Total Customers",value:(0).toLocaleString(),icon:"fa-users"},{label:"Udhari Balance",value:`\u20b9${45320..toLocaleString()}`,icon:"fa-wallet"},{label:"Sales Today",value:`\u20b9${12850..toLocaleString()}`,icon:"fa-coins"}]})()}getLowStockItems(){var e=this;return(0,s.A)(function*(){return(yield e.inventoryService.getAllItems()).filter(i=>i.stock<i.min).map(i=>({name:i.name,supplier:i.supplier,current:i.stock,min:i.min}))})()}getRecentSales(){return(0,s.A)(function*(){return[{id:"#001234",type:"Cash",name:"Rajesh Kumar",amount:"\u20b92,450",time:"10:30 AM"},{id:"#001235",type:"Credit",name:"Priya Sharma",amount:"\u20b91,850",time:"11:15 AM"},{id:"#001236",type:"Cash",name:"Amit Singh",amount:"\u20b93,200",time:"12:00 PM"},{id:"#001237",type:"Credit",name:"Sunita Devi",amount:"\u20b9950",time:"1:45 PM"}]})()}clearDexieDB(){return(0,s.A)(function*(){return yield f.db.delete(),!0})()}getStorageEstimate(){return(0,s.A)(function*(){if("storage"in navigator&&"estimate"in navigator.storage){const{usage:e=0,quota:o=0}=yield navigator.storage.estimate();return{usedMB:(e/1024/1024).toFixed(2),quotaMB:(o/1024/1024).toFixed(2),percent:(e/o*100).toFixed(2)}}return{usedMB:"0",quotaMB:"0",percent:"0"}})()}static{this.\u0275fac=function(o){return new(o||n)(t.KVO(g.c))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function b(n,r){if(1&n&&(t.j41(0,"div",16)(1,"div",17)(2,"div",18),t.nrm(3,"i",19),t.EFF(4),t.k0s(),t.j41(5,"div",20),t.EFF(6),t.k0s()()()),2&n){const e=r.$implicit;t.R7$(3),t.Y8G("ngClass",e.icon),t.R7$(1),t.SpI("",e.label," "),t.R7$(2),t.JRh(e.value)}}function v(n,r){if(1&n&&(t.j41(0,"div",21)(1,"div",22),t.EFF(2),t.k0s(),t.j41(3,"small",23),t.EFF(4),t.k0s(),t.j41(5,"div",24),t.EFF(6),t.k0s(),t.j41(7,"small",23),t.EFF(8,"Current / Minimum"),t.k0s()()),2&n){const e=r.$implicit;t.R7$(2),t.JRh(e.name),t.R7$(2),t.SpI("Supplier: ",e.supplier,""),t.R7$(2),t.Lme("",e.current,"/",e.min," units")}}function x(n,r){if(1&n&&(t.j41(0,"div",25)(1,"div")(2,"div",22),t.EFF(3),t.k0s(),t.j41(4,"small",23),t.EFF(5),t.k0s()(),t.j41(6,"div",26)(7,"div",27),t.EFF(8),t.k0s(),t.j41(9,"small",23),t.EFF(10),t.k0s()()()),2&n){const e=r.$implicit;t.R7$(3),t.Lme("",e.id," - ",e.type,""),t.R7$(2),t.JRh(e.name),t.R7$(3),t.SpI("\u20b9",e.amount,""),t.R7$(2),t.JRh(e.time)}}function C(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",16)(1,"button",28),t.bIt("click",function(){const l=t.eBV(e).$implicit,m=t.XpG();return t.Njj(m.navigate(l.route))}),t.nrm(2,"i",19),t.EFF(3),t.k0s()()}if(2&n){const e=r.$implicit;t.R7$(1),t.Y8G("ngClass",e.class),t.R7$(1),t.Y8G("ngClass",e.icon),t.R7$(1),t.SpI("",e.label," ")}}const y=[{path:"",component:p,children:[{path:"",component:(()=>{class n{constructor(e,o){this.dashboardService=e,this.router=o,this.stats=[],this.lowStock=[],this.sales=[],this.usedMB="0",this.quotaMB="0",this.percent="0",this.quickActions=[{label:"New Sale",icon:"fas fa-plus-circle",route:"/billing",class:"btn-success"},{label:"Add Stock",icon:"fas fa-plus-square",route:"/inventory",class:"btn-outline-primary"},{label:"Add Customer",icon:"fas fa-user-plus",route:"/customers",class:"btn-outline-primary"},{label:"View Reports",icon:"fas fa-chart-line",route:"/reports",class:"btn-outline-primary"}]}ngOnInit(){this.loadDashboardData(),this.loadStorageInfo()}loadStorageInfo(){var e=this;return(0,s.A)(function*(){const{usedMB:o,quotaMB:i,percent:l}=yield e.dashboardService.getStorageEstimate();e.usedMB=o,e.quotaMB=i,e.percent=l})()}clearDB(){var e=this;return(0,s.A)(function*(){confirm("Are you sure you want to delete all local DB data?")&&(yield e.dashboardService.clearDexieDB(),alert("Database cleared"),e.loadStorageInfo())})()}loadDashboardData(){var e=this;return(0,s.A)(function*(){e.stats=yield e.dashboardService.getStats(),e.lowStock=yield e.dashboardService.getLowStockItems(),e.sales=yield e.dashboardService.getRecentSales()})()}navigate(e){this.router.navigate([e])}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(h),t.rXU(c.Ix))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-home"]],decls:26,vars:4,consts:[[1,"dashboard","container","py-4"],[1,"row","mb-4"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"row","g-4"],[1,"col-lg-6"],[1,"card","h-100","shadow-sm"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"fw-bold"],[1,"fas","fa-exclamation-triangle","text-warning","me-2"],["routerLink","/inventory",1,"text-primary","small"],[1,"list-group","list-group-flush"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"fas","fa-receipt","text-success","me-2"],["routerLink","/billing",1,"text-primary","small"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"row","mt-4","g-3"],[1,"col-md-3"],[1,"card","shadow-sm","text-center","p-3"],[1,"fs-5","text-secondary"],[1,"me-2",3,"ngClass"],[1,"fw-bold","fs-4"],[1,"list-group-item"],[1,"fw-semibold"],[1,"text-muted"],[1,"text-danger","fw-bold"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"text-end"],[1,"fw-bold","text-success"],[1,"btn","w-100","p-3",3,"ngClass","click"]],template:function(o,i){1&o&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,b,7,3,"div",2),t.k0s(),t.j41(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"span",7),t.nrm(8,"i",8),t.EFF(9,"Low Stock Alerts"),t.k0s(),t.j41(10,"a",9),t.EFF(11,"View All Inventory"),t.k0s()(),t.j41(12,"div",10),t.DNE(13,v,9,4,"div",11),t.k0s()()(),t.j41(14,"div",4)(15,"div",5)(16,"div",6)(17,"span",7),t.nrm(18,"i",12),t.EFF(19,"Recent Sales"),t.k0s(),t.j41(20,"a",13),t.EFF(21,"View All"),t.k0s()(),t.j41(22,"div",10),t.DNE(23,x,11,5,"div",14),t.k0s()()()(),t.j41(24,"div",15),t.DNE(25,C,4,3,"div",2),t.k0s()()),2&o&&(t.R7$(2),t.Y8G("ngForOf",i.stats),t.R7$(11),t.Y8G("ngForOf",i.lowStock),t.R7$(10),t.Y8G("ngForOf",i.sales),t.R7$(2),t.Y8G("ngForOf",i.quickActions))},dependencies:[d.YU,d.Sq,c.Wk],styles:[".dashboard[_ngcontent-%COMP%]{padding:20px;font-family:Arial,sans-serif}.stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:30px}.stat-card[_ngcontent-%COMP%]{background:#ffffff;padding:20px;border-radius:10px;box-shadow:0 2px 5px #0000001a;text-align:center}.stat-label[_ngcontent-%COMP%]{font-size:14px;color:#777;margin-bottom:10px}.stat-value[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#333}.section[_ngcontent-%COMP%]{margin-bottom:30px;background:#fff;padding:20px;border-radius:10px;box-shadow:0 2px 4px #0000000f}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600}.section-link[_ngcontent-%COMP%]{font-size:14px;color:#007bff;text-decoration:none}.section-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.low-stock-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px}.stock-card[_ngcontent-%COMP%]{background:#fdfdfd;border:1px solid #e0e0e0;padding:15px;border-radius:8px}.item-name[_ngcontent-%COMP%]{font-weight:700;margin-bottom:6px;font-size:16px}.item-supplier[_ngcontent-%COMP%]{font-size:14px;color:#666;margin-bottom:8px}.item-qty[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin-bottom:4px}.item-min-label[_ngcontent-%COMP%]{font-size:12px;color:#999}.sales-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.sale-entry[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #ececec;padding-bottom:12px}.sale-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.sale-info[_ngcontent-%COMP%]   .sale-id[_ngcontent-%COMP%]{font-weight:600}.sale-info[_ngcontent-%COMP%]   .sale-name[_ngcontent-%COMP%]{font-size:14px;color:#666}.sale-amount[_ngcontent-%COMP%]{text-align:right}.sale-amount[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:700;font-size:16px}.sale-amount[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:12px;color:#888}.action-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px;margin-top:10px}.primary-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 18px;border:none;border-radius:6px;cursor:pointer}.outline-btn[_ngcontent-%COMP%]{background-color:#fff;color:#007bff;border:1px solid #007bff;padding:10px 18px;border-radius:6px;cursor:pointer}.primary-btn[_ngcontent-%COMP%]:hover, .outline-btn[_ngcontent-%COMP%]:hover{opacity:.95}"]})}}return n})()}]}];let M=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[c.iI.forChild(y),c.iI]})}}return n})(),F=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[d.MD,M]})}}return n})()}}]);