"use strict";(self.webpackChunktrimurti_hardware_manager=self.webpackChunktrimurti_hardware_manager||[]).push([[744],{5744:(M,u,a)=>{a.r(u),a.d(u,{InventoryModule:()=>k});var c=a(177),p=a(8426),g=a(467),e=a(540),I=a(6563),s=a(4341);function h(i,m){if(1&i&&(e.j41(0,"div",60)(1,"div",61)(2,"div",62),e.nrm(3,"i"),e.EFF(4),e.k0s(),e.j41(5,"div"),e.EFF(6),e.k0s()()()),2&i){const t=m.$implicit;e.R7$(3),e.HbH(t.icon+" me-2 text-"+t.color),e.R7$(1),e.JRh(t.label),e.R7$(1),e.ZvI("stat-value fs-4 fw-bold text-",t.color,""),e.R7$(1),e.JRh(t.value)}}function b(i,m){if(1&i){const t=e.RV6();e.j41(0,"button",17),e.bIt("click",function(){const d=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.filterCategory(d))}),e.EFF(1),e.k0s()}if(2&i){const t=m.$implicit,r=e.XpG();e.AVh("active",r.selectedCategory===t),e.R7$(1),e.JRh(t)}}function v(i,m){1&i&&(e.j41(0,"div",69),e.EFF(1,"Low Stock"),e.k0s())}const y=function(i){return{"table-warning":i}};function F(i,m){if(1&i){const t=e.RV6();e.j41(0,"tr",63)(1,"td"),e.EFF(2),e.DNE(3,v,2,0,"div",64),e.k0s(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.EFF(11),e.k0s(),e.j41(12,"td"),e.EFF(13),e.k0s(),e.j41(14,"td"),e.EFF(15),e.k0s(),e.j41(16,"td")(17,"button",65),e.bIt("click",function(){const d=e.eBV(t).$implicit,l=e.XpG();return e.Njj(l.setEditItem(d))}),e.nrm(18,"i",66),e.EFF(19," Edit "),e.k0s(),e.j41(20,"button",67),e.nrm(21,"i",68),e.k0s()()()}if(2&i){const t=m.$implicit;e.Y8G("ngClass",e.eq3(10,y,t.isLowStock)),e.R7$(2),e.SpI(" ",t.name," "),e.R7$(1),e.Y8G("ngIf",t.isLowStock),e.R7$(2),e.JRh(t.category),e.R7$(2),e.Lme("",t.stock,"/",t.min,""),e.R7$(2),e.JRh(t.unit),e.R7$(2),e.SpI("\u20b9",t.costPrice,""),e.R7$(2),e.SpI("\u20b9",t.salePrice,""),e.R7$(2),e.JRh(t.supplier)}}const C=[{path:"",component:(()=>{class i{constructor(t){this.inventoryService=t,this.inventoryItems=[],this.stats=[],this.editItem={},this.categories=["Pipes & Fittings","Cement & Construction","Electrical","Tools","Hardware","Paint & Chemicals"],this.selectedCategory="All",this.searchText="",this.newItem={},this.selectedItem={}}ngOnInit(){var t=this;return(0,g.A)(function*(){yield t.loadInventory()})()}updateItem(){this.selectedItem.id&&this.inventoryService.updateItem(this.selectedItem.id,{name:this.selectedItem.name,category:this.selectedItem.category,stock:this.selectedItem.stock,min:this.selectedItem.min,costPrice:this.selectedItem.costPrice,salePrice:this.selectedItem.salePrice,supplier:this.selectedItem.supplier,isLowStock:this.selectedItem.stock<this.selectedItem.min}).then(()=>{this.loadInventory(),document.getElementById("closeEditModal").click()})}loadInventory(){var t=this;return(0,g.A)(function*(){t.inventoryItems=yield t.inventoryService.getAllItems(),t.updateStats()})()}setEditItem(t){this.selectedItem={...t}}updateStats(){const t=this.inventoryItems.reduce((r,n)=>r+n.stock*n.costPrice,0);this.stats=[{label:"Total Items",value:this.inventoryItems.length,icon:"fas fa-box",color:"primary"},{label:"Low Stock",value:this.inventoryItems.filter(r=>r.stock<r.min).length,icon:"fas fa-exclamation-triangle",color:"warning"},{label:"Total Value",value:`\u20b9${t.toFixed(2)}`,icon:"fas fa-rupee-sign",color:"success"},{label:"Categories",value:new Set(this.inventoryItems.map(r=>r.category)).size,icon:"fas fa-tags",color:"info"}]}addItem(){var t=this;return(0,g.A)(function*(){yield t.inventoryService.addItem({...t.newItem,stock:t.newItem.quantity}),yield t.loadInventory()})()}filteredItems(){return this.inventoryItems.filter(t=>("All"===this.selectedCategory||t.category===this.selectedCategory)&&(!this.searchText||t.name.toLowerCase().includes(this.searchText.toLowerCase())||t.supplier.toLowerCase().includes(this.searchText.toLowerCase())))}filterCategory(t){this.selectedCategory=t}static{this.\u0275fac=function(r){return new(r||i)(e.rXU(I.c))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-inventory"]],inputs:{editItem:"editItem"},decls:151,vars:22,consts:[[1,"inventory","container","py-4"],[1,"mb-4"],[1,"fw-bold","mb-1"],[1,"fas","fa-boxes","me-2","text-primary"],[1,"text-muted"],[1,"d-flex","flex-wrap","gap-3","mb-4"],["data-bs-toggle","modal","data-bs-target","#addItemModal",1,"btn","btn-primary"],[1,"fas","fa-plus-circle","me-1"],[1,"btn","btn-outline-secondary"],[1,"fas","fa-file-import","me-1"],[1,"row","g-4","mb-4"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"row","align-items-center","mb-3"],[1,"col-md-6"],["type","text","placeholder","Search items or suppliers...",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-6","mt-2","mt-md-0","text-end"],["role","group",1,"btn-group"],[1,"btn","btn-outline-primary","btn-sm",3,"click"],["class","btn btn-outline-primary btn-sm",3,"active","click",4,"ngFor","ngForOf"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","align-middle"],[1,"table-light"],[3,"ngClass",4,"ngFor","ngForOf"],["id","addItemModal","tabindex","-1","aria-labelledby","addItemModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","addItemModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[3,"ngSubmit"],["itemForm","ngForm"],[1,"modal-body"],[1,"row","g-3"],[1,"form-label"],["type","text","required","","name","name",1,"form-control",3,"ngModel","ngModelChange"],["required","","name","category",1,"form-select",3,"ngModel","ngModelChange"],["disabled","","selected","","value",""],["type","text","required","","name","unit",1,"form-control",3,"ngModel","ngModelChange"],["type","number","required","","name","quantity","min","0",1,"form-control",3,"ngModel","ngModelChange"],["type","number","required","","name","costPrice","min","0",1,"form-control",3,"ngModel","ngModelChange"],["type","number","required","","name","salePrice","min","0",1,"form-control",3,"ngModel","ngModelChange"],["type","text","required","","name","supplier",1,"form-control",3,"ngModel","ngModelChange"],["type","number","required","","name","minStock","min","0",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["addItemModalClose",""],["type","submit",1,"btn","btn-primary",3,"disabled"],["id","editItemModal","tabindex","-1","aria-labelledby","editItemModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["id","editItemModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","closeEditModal",1,"btn-close"],[1,"mb-3"],["type","text","name","name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","category",1,"form-control",3,"ngModel","ngModelChange"],["type","number","name","stock",1,"form-control",3,"ngModel","ngModelChange"],["type","number","name","min",1,"form-control",3,"ngModel","ngModelChange"],["type","number","name","costPrice",1,"form-control",3,"ngModel","ngModelChange"],["type","number","name","salePrice",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","supplier",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary",3,"click"],[1,"col-md-3"],[1,"stat-card","p-3","rounded","bg-light","shadow-sm"],[1,"stat-label","text-muted"],[3,"ngClass"],["class","text-danger small",4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#editItemModal",1,"btn","btn-sm","btn-warning","me-1",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-sm","btn-outline-danger"],[1,"fas","fa-trash-alt"],[1,"text-danger","small"]],template:function(r,n){if(1&r){const d=e.RV6();e.j41(0,"div",0)(1,"div",1)(2,"h2",2),e.nrm(3,"i",3),e.EFF(4,"Stock Management"),e.k0s(),e.j41(5,"p",4),e.EFF(6,"Manage your inventory and track stock levels"),e.k0s()(),e.j41(7,"div",5)(8,"button",6),e.nrm(9,"i",7),e.EFF(10,"Add Item"),e.k0s(),e.j41(11,"button",8),e.nrm(12,"i",9),e.EFF(13,"Import CSV"),e.k0s()(),e.j41(14,"div",10),e.DNE(15,h,7,7,"div",11),e.k0s(),e.j41(16,"div",12)(17,"div",13)(18,"input",14),e.bIt("ngModelChange",function(o){return n.searchText=o}),e.k0s()(),e.j41(19,"div",15)(20,"div",16)(21,"button",17),e.bIt("click",function(){return n.filterCategory("All")}),e.EFF(22,"All"),e.k0s(),e.DNE(23,b,2,3,"button",18),e.k0s()()(),e.j41(24,"div",19)(25,"table",20)(26,"thead",21)(27,"tr")(28,"th"),e.EFF(29,"Item Name"),e.k0s(),e.j41(30,"th"),e.EFF(31,"Category"),e.k0s(),e.j41(32,"th"),e.EFF(33,"Stock"),e.k0s(),e.j41(34,"th"),e.EFF(35,"Unit"),e.k0s(),e.j41(36,"th"),e.EFF(37,"Cost Price"),e.k0s(),e.j41(38,"th"),e.EFF(39,"Sale Price"),e.k0s(),e.j41(40,"th"),e.EFF(41,"Supplier"),e.k0s(),e.j41(42,"th"),e.EFF(43,"Actions"),e.k0s()()(),e.j41(44,"tbody"),e.DNE(45,F,22,12,"tr",22),e.k0s()()(),e.j41(46,"div",23)(47,"div",24)(48,"div",25)(49,"div",26)(50,"h5",27),e.EFF(51,"Add New Item"),e.k0s(),e.nrm(52,"button",28),e.k0s(),e.j41(53,"form",29,30),e.bIt("ngSubmit",function(){e.eBV(d);const o=e.sdS(105),_=e.sdS(54);return n.addItem(),o.click(),e.Njj(_.resetForm())}),e.j41(55,"div",31)(56,"div",32)(57,"div",13)(58,"label",33),e.EFF(59,"Item Name"),e.k0s(),e.j41(60,"input",34),e.bIt("ngModelChange",function(o){return n.newItem.name=o}),e.k0s()(),e.j41(61,"div",13)(62,"label",33),e.EFF(63,"Category"),e.k0s(),e.j41(64,"select",35),e.bIt("ngModelChange",function(o){return n.newItem.category=o}),e.j41(65,"option",36),e.EFF(66,"Select Category"),e.k0s(),e.j41(67,"option"),e.EFF(68,"Pipes & Fittings"),e.k0s(),e.j41(69,"option"),e.EFF(70,"Cement & Construction"),e.k0s(),e.j41(71,"option"),e.EFF(72,"Electrical"),e.k0s(),e.j41(73,"option"),e.EFF(74,"Tools"),e.k0s(),e.j41(75,"option"),e.EFF(76,"Hardware"),e.k0s(),e.j41(77,"option"),e.EFF(78,"Paint & Chemicals"),e.k0s()()(),e.j41(79,"div",13)(80,"label",33),e.EFF(81,"Unit"),e.k0s(),e.j41(82,"input",37),e.bIt("ngModelChange",function(o){return n.newItem.unit=o}),e.k0s()(),e.j41(83,"div",13)(84,"label",33),e.EFF(85,"Quantity"),e.k0s(),e.j41(86,"input",38),e.bIt("ngModelChange",function(o){return n.newItem.quantity=o}),e.k0s()(),e.j41(87,"div",13)(88,"label",33),e.EFF(89,"Cost Price"),e.k0s(),e.j41(90,"input",39),e.bIt("ngModelChange",function(o){return n.newItem.costPrice=o}),e.k0s()(),e.j41(91,"div",13)(92,"label",33),e.EFF(93,"Sale Price"),e.k0s(),e.j41(94,"input",40),e.bIt("ngModelChange",function(o){return n.newItem.salePrice=o}),e.k0s()(),e.j41(95,"div",13)(96,"label",33),e.EFF(97,"Supplier"),e.k0s(),e.j41(98,"input",41),e.bIt("ngModelChange",function(o){return n.newItem.supplier=o}),e.k0s()(),e.j41(99,"div",13)(100,"label",33),e.EFF(101,"Minimum Stock Level"),e.k0s(),e.j41(102,"input",42),e.bIt("ngModelChange",function(o){return n.newItem.minStock=o}),e.k0s()()()(),e.j41(103,"div",43)(104,"button",44,45),e.EFF(106,"Cancel"),e.k0s(),e.j41(107,"button",46),e.EFF(108,"Add Item"),e.k0s()()()()()(),e.j41(109,"div",47)(110,"div",48)(111,"div",25)(112,"div",26)(113,"h5",49),e.EFF(114,"Edit Item"),e.k0s(),e.nrm(115,"button",50),e.k0s(),e.j41(116,"div",31)(117,"form")(118,"div",51)(119,"label",33),e.EFF(120,"Item Name"),e.k0s(),e.j41(121,"input",52),e.bIt("ngModelChange",function(o){return n.selectedItem.name=o}),e.k0s()(),e.j41(122,"div",51)(123,"label",33),e.EFF(124,"Category"),e.k0s(),e.j41(125,"input",53),e.bIt("ngModelChange",function(o){return n.selectedItem.category=o}),e.k0s()(),e.j41(126,"div",51)(127,"label",33),e.EFF(128,"Stock"),e.k0s(),e.j41(129,"input",54),e.bIt("ngModelChange",function(o){return n.selectedItem.stock=o}),e.k0s()(),e.j41(130,"div",51)(131,"label",33),e.EFF(132,"Minimum Stock"),e.k0s(),e.j41(133,"input",55),e.bIt("ngModelChange",function(o){return n.selectedItem.min=o}),e.k0s()(),e.j41(134,"div",51)(135,"label",33),e.EFF(136,"Cost Price"),e.k0s(),e.j41(137,"input",56),e.bIt("ngModelChange",function(o){return n.selectedItem.costPrice=o}),e.k0s()(),e.j41(138,"div",51)(139,"label",33),e.EFF(140,"Sale Price"),e.k0s(),e.j41(141,"input",57),e.bIt("ngModelChange",function(o){return n.selectedItem.salePrice=o}),e.k0s()(),e.j41(142,"div",51)(143,"label",33),e.EFF(144,"Supplier"),e.k0s(),e.j41(145,"input",58),e.bIt("ngModelChange",function(o){return n.selectedItem.supplier=o}),e.k0s()()()(),e.j41(146,"div",43)(147,"button",44),e.EFF(148,"Cancel"),e.k0s(),e.j41(149,"button",59),e.bIt("click",function(){return n.updateItem()}),e.EFF(150,"Save Changes"),e.k0s()()()()()()}if(2&r){const d=e.sdS(54);e.R7$(15),e.Y8G("ngForOf",n.stats),e.R7$(3),e.Y8G("ngModel",n.searchText),e.R7$(3),e.AVh("active","All"===n.selectedCategory),e.R7$(2),e.Y8G("ngForOf",n.categories),e.R7$(22),e.Y8G("ngForOf",n.filteredItems()),e.R7$(15),e.Y8G("ngModel",n.newItem.name),e.R7$(4),e.Y8G("ngModel",n.newItem.category),e.R7$(18),e.Y8G("ngModel",n.newItem.unit),e.R7$(4),e.Y8G("ngModel",n.newItem.quantity),e.R7$(4),e.Y8G("ngModel",n.newItem.costPrice),e.R7$(4),e.Y8G("ngModel",n.newItem.salePrice),e.R7$(4),e.Y8G("ngModel",n.newItem.supplier),e.R7$(4),e.Y8G("ngModel",n.newItem.minStock),e.R7$(5),e.Y8G("disabled",!d.form.valid),e.R7$(14),e.Y8G("ngModel",n.selectedItem.name),e.R7$(4),e.Y8G("ngModel",n.selectedItem.category),e.R7$(4),e.Y8G("ngModel",n.selectedItem.stock),e.R7$(4),e.Y8G("ngModel",n.selectedItem.min),e.R7$(4),e.Y8G("ngModel",n.selectedItem.costPrice),e.R7$(4),e.Y8G("ngModel",n.selectedItem.salePrice),e.R7$(4),e.Y8G("ngModel",n.selectedItem.supplier)}},dependencies:[c.YU,c.Sq,c.bT,s.qT,s.xH,s.y7,s.me,s.Q0,s.wz,s.BC,s.cb,s.YS,s.VZ,s.vS,s.cV]})}}return i})()}];let f=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[p.iI.forChild(C),p.iI]})}}return i})(),k=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[c.MD,f,s.YN]})}}return i})()}}]);